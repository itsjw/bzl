<!doctype html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="../css/mui.min.css" rel="stylesheet" />
		<link href="../css/app.css" rel="stylesheet" />
	</head>

	<body id="buyCar">
	<header class="mui-bar mui-bar-nav head_bg">
			<!--<a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left color_f"></a>-->
			<h1 class="mui-title color_f">购物车</h1>
	</header>
	<div class="mui-content" style="padding-bottom: 50px;">
		<ul class="buyCar_list">
			<li class="byu_item">
				<div class="goods">
					<div class="mui-input-row mui-checkbox mui-left fl">
		                <input name="checkbox" class="listCheckBox listCheck1" data-num="1" value="Item 1" type="checkbox">
		            </div>
					<div class="goods_name fl">
						<h4>茶艺居</h4>
						<p>商品优惠：<span>满30减5元</span></p>
					</div>
					<div class="del fr">
						<span class="mui-icon mui-icon-trash"></span>
					</div>
				</div>
				<div class="goods_info">
					<div class="mui-input-row mui-checkbox mui-left fl">
		                <input name="checkbox" class="listCheckBox listCheck1" data-num="1" value="Item 2" type="checkbox">
		            </div>
					<div class="goods_img fl">
						<img src="../img/foot.jpg" />
					</div>
					<div class="goos_name_count fl">
						<div class="name_price">
							<div class="g_name fl">
								佳佳都可大卡司运动鞋
							</div>
							<div class="g_price fr">
								<p style="text-decoration: line-through;">&yen;199</p>
								<p>&yen;99</p>
							</div>
						</div>
						<p>颜色：<span>斑马条黑纹</span></p>
						<p>尺码：<span>38尺码</span></p>
						<div class="mui-numbox" data-numbox-min="0">
							<button class="mui-btn mui-btn-numbox-minus" type="button" disabled="">-</button>
							<input id="test" class="mui-input-numbox" type="number" value="1">
							<button class="mui-btn mui-btn-numbox-plus" type="button">+</button>
						</div>
					</div>
				</div>
			</li>
			<li class="byu_item">
				<div class="goods">
					<div class="mui-input-row mui-checkbox mui-left fl">
		                <input name="checkbox" class="listCheckBox listCheck2" data-num="2" value="Item 1" type="checkbox">
		            </div>
					<div class="goods_name fl">
						<h4>茶艺居</h4>
						<p>商品优惠：<span>满30减5元</span></p>
					</div>
					<div class="del fr">
						<span class="mui-icon mui-icon-trash"></span>
					</div>
				</div>
				<div class="goods_info">
					<div class="mui-input-row mui-checkbox mui-left fl">
		                <input name="checkbox" class="listCheckBox listCheck2" data-num="2" value="Item 2" type="checkbox">
		            </div>
					<div class="goods_img fl">
						<img src="../img/foot.jpg" />
					</div>
					<div class="goos_name_count fl">
						<div class="name_price">
							<div class="g_name fl">
								佳佳都可大卡司运动鞋
							</div>
							<div class="g_price fr">
								<p style="text-decoration: line-through;">&yen;199</p>
								<p>&yen;99</p>
							</div>
						</div>
						<p>颜色：<span>斑马条黑纹</span></p>
						<p>尺码：<span>38尺码</span></p>
						<div class="mui-numbox" data-numbox-min="0">
							<button class="mui-btn mui-btn-numbox-minus" type="button" disabled="">-</button>
							<input id="test" class="mui-input-numbox" type="number" value="1">
							<button class="mui-btn mui-btn-numbox-plus" type="button">+</button>
						</div>
					</div>
				</div>
			</li>
			<li class="byu_item">
				<div class="goods">
					<div class="mui-input-row mui-checkbox mui-left fl">
		                <input name="checkbox" class="listCheckBox listCheck3" data-num="3" value="Item 1" type="checkbox">
		            </div>
					<div class="goods_name fl">
						<h4>茶艺居</h4>
						<p>商品优惠：<span>满30减5元</span></p>
					</div>
					<div class="del fr">
						<span class="mui-icon mui-icon-trash"></span>
					</div>
				</div>
				<div class="goods_info">
					<div class="mui-input-row mui-checkbox mui-left fl">
		                <input name="checkbox" class="listCheckBox listCheck3" data-num="3" value="Item 2" type="checkbox">
		            </div>
					<div class="goods_img fl">
						<img src="../img/foot.jpg" />
					</div>
					<div class="goos_name_count fl">
						<div class="name_price">
							<div class="g_name fl">
								佳佳都可大卡司运动鞋
							</div>
							<div class="g_price fr">
								<p style="text-decoration: line-through;">&yen;199</p>
								<p>&yen;99</p>
							</div>
						</div>
						<p>颜色：<span>斑马条黑纹</span></p>
						<p>尺码：<span>38尺码</span></p>
						<div class="mui-numbox" data-numbox-min="0">
							<button class="mui-btn mui-btn-numbox-minus" type="button" disabled="">-</button>
							<input id="test" class="mui-input-numbox" type="number" value="1">
							<button class="mui-btn mui-btn-numbox-plus" type="button">+</button>
						</div>
					</div>
				</div>
			</li>
		</ul>
	</div>
	<div class="foot_js">
		<div class="mui-input-row mui-checkbox mui-left fl">
			  <lable for="checkAll">全选</lable>
		      <input name="checkbox" id="checkAll" type="checkbox">
	    </div>
        <div class="foot_jsbtn fr">结算</div>
        <div class="foot_hj fr">合计：<span>&yen;100</span></div>

	</div>
	<script src="../js/jquery-1.11.3.js" type="text/javascript" charset="utf-8"></script>
	<script src="../js/mui.min.js"></script>
	<script src="../js/sub.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		//       实现全选功能
        mui.init();
        (function (m) {
            document.getElementById('checkAll').addEventListener('change',function(e) {
	            var listBox = m('.listCheckBox');
	            if (e.target.checked) {
	                listBox.each(function() {
	                    var ele = this;
	                    ele.checked=true
	                })
	            } else {
	                listBox.each(function() {
	                    var ele = this;
	                    ele.checked=false
	                })
	            }
	        });
	        var checklen=document.getElementsByClassName('listCheckBox').length;
	        for(var i=0;i<checklen;i++){
	        	document.getElementsByClassName('listCheckBox')[i].addEventListener('change',function(e) {
	        		var num=$(this).data("num");
	        		console.log(num);
		            var listBox = m('.listCheck'+num);
		            if (e.target.checked) {
		                listBox.each(function() {
		                    var ele = this;
		                    ele.checked=true
		                })
		            } else {
		                listBox.each(function() {
		                    var ele = this;
		                    ele.checked=false
		                })
		            }
		        });
	        }
//	        $(".listCheckBox").change(function(e){
//              var flg=e.target.checked;
//              $(this).parent().parent().siblings().find(".listCheckBox").attr("checked",flg);
////              console.log($(this).parent().parent().siblings().find(".listCheckBox").attr("checked",false));
//	        })
      })(mui)
	</script>
	</body>
</html>